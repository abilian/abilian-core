define("scribe-plugin-link-prompt-command",[],function(){"use strict";return function(){return function(e){var n=new e.api.Command("createLink");n.nodeName="A",n.execute=function(n){var t,i=new e.api.Selection,o=i.range,a=i.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),r=a?a.href:"";if(t=n?n:window.prompt("Enter a link.",r),a&&(o.selectNode(a),i.selection.removeAllRanges(),i.selection.addRange(o)),t){var d=/^https?\:\/\//,m=/^mailto\:/;if(!d.test(t)&&!m.test(t))if(/@/.test(t)){var u=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");u&&(t="mailto:"+t)}else{var c=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");c&&(t="http://"+t)}e.api.SimpleCommand.prototype.execute.call(this,t)}},n.queryState=function(){var n=new e.api.Selection;return!!n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},e.commands.linkPrompt=n}}});//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map