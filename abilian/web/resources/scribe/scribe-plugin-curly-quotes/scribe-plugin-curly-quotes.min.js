define("lodash-amd/modern/internals/baseIndexOf",[],function(){function n(n,e,t){for(var r=(t||0)-1,i=n?n.length:0;++r<i;)if(n[r]===e)return r;return-1}return n}),define("lodash-amd/modern/internals/isNative",[],function(){function n(n){return"function"==typeof n&&r.test(n)}var e=Object.prototype,t=e.toString,r=RegExp("^"+String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return n}),define("lodash-amd/modern/internals/objectTypes",[],function(){var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};return n}),define("lodash-amd/modern/objects/isObject",["../internals/objectTypes"],function(n){function e(e){return!(!e||!n[typeof e])}return e}),define("lodash-amd/modern/utilities/noop",[],function(){function n(){}return n}),define("lodash-amd/modern/internals/baseCreate",["./isNative","../objects/isObject","../utilities/noop"],function(n,e){function t(n){return e(n)?r(n):{}}var r=n(r=Object.create)&&r;return r||(t=function(){function n(){}return function(t){if(e(t)){n.prototype=t;var r=new n;n.prototype=null}return r||window.Object()}}()),t}),define("lodash-amd/modern/internals/setBindData",["./isNative","../utilities/noop"],function(n,e){var t={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var e={},t=n(t=Object.defineProperty)&&t,r=t(e,e,e)&&t}catch(i){}return r}(),i=r?function(n,e){t.value=e,r(n,"__bindData__",t)}:e;return i}),define("lodash-amd/modern/internals/slice",[],function(){function n(n,e,t){e||(e=0),"undefined"==typeof t&&(t=n?n.length:0);for(var r=-1,i=t-e||0,o=Array(0>i?0:i);++r<i;)o[r]=n[e+r];return o}return n}),define("lodash-amd/modern/internals/baseBind",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(n,e,t,r){function i(i){function o(){if(s){var t=r(s);a.apply(t,arguments)}if(this instanceof o){var i=n(u.prototype),f=u.apply(i,t||arguments);return e(f)?f:i}return u.apply(c,t||arguments)}var u=i[0],s=i[2],c=i[4];return t(o,i),o}var o=[],a=o.push;return i}),define("lodash-amd/modern/internals/baseCreateWrapper",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(n,e,t,r){function i(o){function u(){var t=m?d:this;if(f){var o=r(f);a.apply(o,arguments)}if((l||y)&&(o||(o=r(arguments)),l&&a.apply(o,l),y&&o.length<p))return c|=16,i([s,h?c:-4&c,o,null,d,p]);if(o||(o=arguments),b&&(s=t[v]),this instanceof u){t=n(s.prototype);var g=s.apply(t,o);return e(g)?g:t}return s.apply(t,o)}var s=o[0],c=o[1],f=o[2],l=o[3],d=o[4],p=o[5],m=1&c,b=2&c,y=4&c,h=8&c,v=s;return t(u,o),u}var o=[],a=o.push;return i}),define("lodash-amd/modern/objects/isFunction",[],function(){function n(n){return"function"==typeof n}return n}),define("lodash-amd/modern/internals/createWrapper",["./baseBind","./baseCreateWrapper","../objects/isFunction","./slice"],function(n,e,t,r){function i(o,s,c,f,l,d){var p=1&s,m=2&s,b=4&s,y=16&s,h=32&s;if(!m&&!t(o))throw new TypeError;y&&!c.length&&(s&=-17,y=c=!1),h&&!f.length&&(s&=-33,h=f=!1);var v=o&&o.__bindData__;if(v&&v!==!0)return v=r(v),v[2]&&(v[2]=r(v[2])),v[3]&&(v[3]=r(v[3])),!p||1&v[1]||(v[4]=l),!p&&1&v[1]&&(s|=8),!b||4&v[1]||(v[5]=d),y&&a.apply(v[2]||(v[2]=[]),c),h&&u.apply(v[3]||(v[3]=[]),f),v[1]|=s,i.apply(null,v);var g=1==s||17===s?n:e;return g([o,s,c,f,l,d])}var o=[],a=o.push,u=o.unshift;return i}),define("lodash-amd/modern/functions/bind",["../internals/createWrapper","../internals/slice"],function(n,e){function t(t,r){return arguments.length>2?n(t,17,e(arguments,2),null,r):n(t,1,null,null,r)}return t}),define("lodash-amd/modern/utilities/identity",[],function(){function n(n){return n}return n}),define("lodash-amd/modern/support",["./internals/isNative"],function(n){var e=/\bthis\b/,t={};return t.funcDecomp=!n(window.WinRTError)&&e.test(function(){return this}),t.funcNames="string"==typeof Function.name,t}),define("lodash-amd/modern/internals/baseCreateCallback",["../functions/bind","../utilities/identity","./setBindData","../support"],function(n,e,t,r){function i(i,s,c){if("function"!=typeof i)return e;if("undefined"==typeof s||!("prototype"in i))return i;var f=i.__bindData__;if("undefined"==typeof f&&(r.funcNames&&(f=!i.name),f=f||!r.funcDecomp,!f)){var l=u.call(i);r.funcNames||(f=!o.test(l)),f||(f=a.test(l),t(i,f))}if(f===!1||f!==!0&&1&f[1])return i;switch(c){case 1:return function(n){return i.call(s,n)};case 2:return function(n,e){return i.call(s,n,e)};case 3:return function(n,e,t){return i.call(s,n,e,t)};case 4:return function(n,e,t,r){return i.call(s,n,e,t,r)}}return n(i,s)}var o=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,u=Function.prototype.toString;return i}),define("lodash-amd/modern/internals/shimKeys",["./objectTypes"],function(n){var e=Object.prototype,t=e.hasOwnProperty,r=function(e){var r,i=e,o=[];if(!i)return o;if(!n[typeof e])return o;for(r in i)t.call(i,r)&&o.push(r);return o};return r}),define("lodash-amd/modern/objects/keys",["../internals/isNative","./isObject","../internals/shimKeys"],function(n,e,t){var r=n(r=Object.keys)&&r,i=r?function(n){return e(n)?r(n):[]}:t;return i}),define("lodash-amd/modern/objects/forOwn",["../internals/baseCreateCallback","./keys","../internals/objectTypes"],function(n,e,t){var r=function(r,i,o){var a,u=r,s=u;if(!u)return s;if(!t[typeof u])return s;i=i&&"undefined"==typeof o?i:n(i,o,3);for(var c=-1,f=t[typeof u]&&e(u),l=f?f.length:0;++c<l;)if(a=f[c],i(u[a],a,r)===!1)return s;return s};return r}),define("lodash-amd/modern/objects/isArray",["../internals/isNative"],function(n){var e="[object Array]",t=Object.prototype,r=t.toString,i=n(i=Array.isArray)&&i,o=i||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&r.call(n)==e||!1};return o}),define("lodash-amd/modern/objects/isString",[],function(){function n(n){return"string"==typeof n||n&&"object"==typeof n&&r.call(n)==e||!1}var e="[object String]",t=Object.prototype,r=t.toString;return n}),define("lodash-amd/modern/collections/contains",["../internals/baseIndexOf","../objects/forOwn","../objects/isArray","../objects/isString"],function(n,e,t,r){function i(i,a,u){var s=-1,c=n,f=i?i.length:0,l=!1;return u=(0>u?o(0,f+u):u)||0,t(i)?l=c(i,a,u)>-1:"number"==typeof f?l=(r(i)?i.indexOf(a,u):c(i,a,u))>-1:e(i,function(n){return++s>=u?!(l=n===a):void 0}),l}var o=Math.max;return i}),define("scribe-common/src/element",["lodash-amd/modern/collections/contains"],function(n){function e(e){return n(o,e.nodeName)}function t(n){return n.nodeType===Node.ELEMENT_NODE&&"scribe-marker"===n.className}function r(n){return n.nodeType===Node.ELEMENT_NODE&&"caret-position"===n.className}function i(n,e){for(;e.childNodes.length>0;)n.insertBefore(e.childNodes[0],e);n.removeChild(e)}var o=["P","LI","DIV","BLOCKQUOTE","UL","OL","H1","H2","H3","H4","H5","H6","TABLE","TH","TD"];return{isBlockElement:e,isSelectionMarkerNode:t,isCaretPositionNode:r,unwrap:i}}),define("lodash-amd/modern/objects/values",["./keys"],function(n){function e(e){for(var t=-1,r=n(e),i=r.length,o=Array(i);++t<i;)o[t]=e[r[t]];return o}return e}),define("lodash-amd/modern/collections/toArray",["../objects/isString","../internals/slice","../objects/values"],function(n,e,t){function r(n){return n&&"number"==typeof n.length?e(n):t(n)}return r}),define("scribe-plugin-curly-quotes",["scribe-common/src/element","lodash-amd/modern/collections/toArray"],function(n,e){return function(){var t="“",r="”",i="‘",o="’";return function(a){function u(n){return/[^\s()]/.test(n)}function s(n){var e=document.createElement("div");return e.innerHTML=n,l(e,function(n,e){var t=(n+e).split(/(<[^>]+?>(?:.*<\/[^>]+?>)?)/);return t.map(function(n){return/^</.test(n)?n:c(n)}).join("").slice(n.length)}),e.innerHTML}function c(n){if(/['"]/.test(n)){var e=n.replace(/([\s\S])?'/,f(i,o)).replace(/([\s\S])?"/,f(t,r));return c(e)}return n}function f(n,e){return function(t,r){r=r||"";var i=u(r);return i?r+e:r+n}}function l(t,r){var i=e(t.children).filter(n.isBlockElement);i.length?i.forEach(function(n){l(n,r)}):d(t,r)}function d(n,e){for(var t=document.createTreeWalker(n,NodeFilter.SHOW_TEXT),r=t.firstChild(),i="";r;)r.previousSibling&&"BR"===r.previousSibling.nodeName&&(i=""),r.data=e(i,r.data),i+=r.data,r=t.nextSibling()}var p,m={34:'"',39:"'"};a.el.addEventListener("keypress",function(n){p=m[n.charCode]}),a.el.addEventListener("input",function(){if(p){var e=new a.api.Selection,t=a.allowsBlockElements()?e.getContaining(n.isBlockElement):a.el;e.placeMarkers(),t.innerHTML=s(t.innerHTML),e.selectMarkers(),p=void 0}}),a.registerHTMLFormatter("normalize",s)}}});//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map